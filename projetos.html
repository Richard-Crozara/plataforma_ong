<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projetos - Instituto Esperança</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <h1>Projetos do Instituto Esperança</h1>
    <nav>
      <ul>
        <li><a href="index.html">Início</a></li>
        <li><a href="projetos.html" class="ativo">Projetos</a></li>
        <li><a href="cadastro.html">Cadastro</a></li>
      </ul>
      <div class="menu-hamburguer">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </nav>
  </header>

  <main>
    <!-- Card 1 -->
    <section class="card" id="alimentar">
      <img src="imagens/projeto1.jpg" alt="Distribuição de alimentos">
      <div class="card-body">
        <h3>Projeto Alimentar com Amor</h3>
        <span class="badge">Alimentação</span>
        <p>Distribuição de cestas básicas e refeições para famílias em situação de vulnerabilidade.</p>
      </div>
    </section>

    <!-- Card 2 -->
    <section class="card" id="futuro">
      <img src="imagens/projeto2.jpg" alt="Aulas de capacitação">
      <div class="card-body">
        <h3>Projeto Futuro Brilhante</h3>
        <span class="badge">Educação</span>
        <p>Oferece cursos gratuitos de capacitação profissional para jovens e adultos.</p>
      </div>
    </section>

    <!-- Card 3 -->
    <section class="card" id="verde">
      <img src="imagens/projeto3.jpg" alt="Plantio de árvores">
      <div class="card-body">
        <h3>Projeto Verde Esperança</h3>
        <span class="badge">Meio Ambiente</span>
        <p>Reflorestamento e cuidado com o meio ambiente em comunidades carentes.</p>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Instituto Esperança. Todos os direitos reservados.</p>
  </footer>

<script>
  // ===========================
  // MENU MOBILE + A11Y
  // ===========================
  (function(){
    const menuBtn = document.querySelector('.menu-hamburguer');
    const navMenu = document.querySelector('nav ul');

    // defensive checks
    if(menuBtn && navMenu){
      menuBtn.setAttribute('role','button');
      menuBtn.setAttribute('tabindex','0');
      menuBtn.setAttribute('aria-expanded','false');

      const toggleMenu = () => {
        const open = navMenu.classList.toggle('ativo');
        menuBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
      };

      menuBtn.addEventListener('click', toggleMenu);
      menuBtn.addEventListener('keydown', (e) => { if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleMenu(); } });

      // close when clicking outside on small screens
      document.addEventListener('click', (e) => {
        if(!navMenu.contains(e.target) && !menuBtn.contains(e.target) && navMenu.classList.contains('ativo')){
          navMenu.classList.remove('ativo'); menuBtn.setAttribute('aria-expanded','false');
        }
      });
    }
  })();

  // ===========================
  // FORM MASKS + FEEDBACK (cadastro.html)
  // ===========================
  (function(){
    const cpf = document.getElementById('cpf');
    const telefone = document.getElementById('telefone');
    const cep = document.getElementById('cep');
    const form = document.getElementById('formCadastro');
    const alerta = document.getElementById('alerta');

    // masks (safe if element exists)
    const mask = (el, fn) => { if(!el) return; el.addEventListener('input', fn); };

    mask(cpf, e => {
      let v = e.target.value.replace(/\D/g,'');
      v = v.replace(/(\d{3})(\d)/,'$1.$2');
      v = v.replace(/(\d{3})(\d)/,'$1.$2');
      v = v.replace(/(\d{3})(\d{1,2})$/,'$1-$2');
      e.target.value = v;
    });

    mask(telefone, e => {
      let v = e.target.value.replace(/\D/g,'');
      v = v.replace(/^(\d{2})(\d)/g,'($1) $2');
      v = v.replace(/(\d{5})(\d)/,'$1-$2');
      e.target.value = v;
    });

    mask(cep, e => {
      let v = e.target.value.replace(/\D/g,'');
      v = v.replace(/^(\d{5})(\d)/,'$1-$2');
      e.target.value = v;
    });

    // form submit - show alert visually (no network)
    if(form && alerta){
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        // simple client-side validation check
        if(!form.checkValidity()){
          alerta.innerHTML = '<div class="alert alert-erro">Por favor, preencha todos os campos corretamente.</div>';
          return;
        }
        alerta.innerHTML = '<div class="alert alert-sucesso">Cadastro enviado com sucesso!</div>';
        form.reset();
        // remove alert after 4s
        setTimeout(()=>{ alerta.innerHTML = ''; }, 4000);
      });
    }
  })();
</script>

</body>
</html>